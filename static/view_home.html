<!-- Description: 管理画面のホーム画面 -->
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ホーム画面</title>
    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <!-- 共通スタイル -->
    <link href="css/style.css" rel="stylesheet">
    <!-- 管理画面スタイル -->
    <link href="css/view_home.css" rel="stylesheet">
  </head>
  <body class="bg-light">
    <div class="container bg-white p-4 rounded shadow my-4">
      <!-- ヘッダー -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
          <span class="header-title text-primary">管理者画面</span>
        </div>
        <div>
          <a href="view_report.html" class="btn btn-primary">月次勤怠レポートを見る</a>
          <a href="index.html" class="btn btn-secondary me-2">打刻画面に戻る</a>
          <a href="view_zz.html" class="btn btn-secondary me-2">退職者一覧へ</a>
          <a href="view_zy.html" class="btn btn-secondary me-2">過去の情報一覧へ</a>
        </div>
      </div>

      <!-- 従業員一覧 -->
      <div class="mb-4">
        <h3 class="text-primary">従業員一覧</h3>
        <table class="table table-striped">
          <thead class="bg-primary text-white">
            <tr>
              <th>従業員番号</th>
              <th>名前</th>
              <th>職種</th>
              <th>職種コード</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="employeeTableBody">
            <!-- ここに従業員リストが動的に追加される -->
          </tbody>
        </table>
      </div>
      
      <!-- 打刻不整合一覧 -->
      <div class="mb-4">
        <h3 class="text-primary">打刻不整合一覧</h3>
        <table class="table table-striped">
          <thead class="table-dark">
            <tr>
              <th>従業員番号</th>
              <th>従業員名</th>
              <th>日付</th>
              <th>不整合内容</th>
            </tr>
          </thead>
          <tbody id="inconsistenciesTableBody">
            <!-- 不整合データが動的に追加される -->
          </tbody>
        </table>
      </div>
      
      <!-- 新しい従業員を追加 -->
      <div class="mb-4">
        <h3 class="text-primary">新しい従業員を追加</h3>
        <form id="addEmployeeForm" onsubmit="handleAddEmployee(event)">
          <div class="mb-3">
            <label for="employee_name" class="form-label">従業員名:</label>
            <input type="text" class="form-control" id="employee_name" required>
          </div>
          <div class="mb-3">
            <label for="employee_job" class="form-label">職種:</label>
            <select class="form-select" id="employee_job" required>
              <option value="">-- 職種を選択してください --</option>
            </select>
          </div>
          <!-- 雇用形態 -->
          <div class="mb-3">
            <label class="form-label">雇用形態:</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="employment_type" id="fulltime" value="正社員" checked>
                <label class="form-check-label" for="fulltime">正社員</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="employment_type" id="parttime" value="パート">
                <label class="form-check-label" for="parttime">パート</label>
              </div>
            </div>
          </div>
          <!-- パート用フィールド -->
          <div class="mb-3" id="parttimeFields" style="display: none;">
            <div class="mb-3">
              <label for="hourly_wage" class="form-label">時給 (円):</label>
              <input type="number" class="form-control" id="hourly_wage" min="0">
            </div>
            <div class="mb-3">
              <label for="transportation_expense" class="form-label">交通費 (円):</label>
              <input type="number" class="form-control" id="transportation_expense" min="0">
            </div>
          </div>
          <div class="mb-3">
            <label for="paid_vacation_limit" class="form-label">有給休暇上限:</label>
            <input type="number" class="form-control" id="paid_vacation_limit" required>
          </div>
          <div class="mb-3">
            <div class="row">
              <div class="col-md-6">
                <label for="paid_vacation_grant_date" class="form-label">入社日:</label>
                <input type="date" class="form-control" id="paid_vacation_grant_date" required>
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-success">追加</button>
        </form>
        <div id="employee_add_message" class="mt-2"></div>
      </div>
      
      <!-- 新しい職種を追加 -->
      <div class="mb-4">
        <h3 class="text-primary">新しい職種を追加</h3>
        <form id="addJobTypeForm" onsubmit="handleAddJobType(event)">
          <div class="mb-3">
            <label for="job_type_code" class="form-label">職種コード (2文字大文字):</label>
            <input type="text" class="form-control" id="job_type_code" required maxlength="2" pattern="[A-Z]{2}">
          </div>
          <div class="mb-3">
            <label for="job_type_name" class="form-label">職種名:</label>
            <input type="text" class="form-control" id="job_type_name" required>
          </div>
          <button type="submit" class="btn btn-success">職種を追加</button>
        </form>
        <div id="jobtype_add_message" class="mt-2"></div>
      </div>
  
      <!-- 職種一覧 -->
      <div class="mb-4">
        <h3 class="text-primary">職種一覧</h3>
        <table class="table table-striped">
          <thead class="table-dark">
            <tr>
              <th>職種コード</th>
              <th>職種名</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="jobTypeTableBody">
            <!-- ここに職種リストが動的に追加される -->
          </tbody>
        </table>
      </div>
      
      <!-- パスワード再設定 -->
      <div class="mb-4">
        <h3 class="text-primary">パスワードの再設定</h3>
        <input type="hidden" id="owner_email_hidden" />
        <form id="ownerForm" onsubmit="return handleSetOwner(event)">
          <div class="mb-3">
            <label for="new_password" class="form-label">新しいパスワード:</label>
            <input type="password" class="form-control" id="new_password" required />
          </div>
          <div class="mb-3">
            <label for="confirm_password" class="form-label">新しいパスワード（確認）:</label>
            <input type="password" class="form-control" id="confirm_password" required />
          </div>
          <button type="submit" class="btn btn-primary">設定</button>
        </form>
        <div id="owner_message" class="mt-2"></div>
      </div>
    </div>
  
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- カスタムJS -->
    <script src="js/view_home.js"></script>
  </body>
</html>